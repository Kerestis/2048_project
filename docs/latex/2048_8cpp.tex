\doxysection{Файл 2048/2048.cpp}
\hypertarget{2048_8cpp}{}\label{2048_8cpp}\index{2048/2048.cpp@{2048/2048.cpp}}


Реализация функций для консольной игры 2048.  


{\ttfamily \#include "{}2048.\+h"{}}\newline
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
{\ttfamily \#include $<$cstdlib$>$}\newline
{\ttfamily \#include $<$ctime$>$}\newline
{\ttfamily \#include $<$fstream$>$}\newline
{\ttfamily \#include $<$iomanip$>$}\newline
{\ttfamily \#include $<$algorithm$>$}\newline
{\ttfamily \#include $<$random$>$}\newline
\doxysubsubsection*{Функции}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{2048_8cpp_ac77150accff829ce0d3be0031f539bc1}{load\+Game}} ()
\begin{DoxyCompactList}\small\item\em Загружает сохранённое состояние игры из файла. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{2048_8cpp_ac42f6d85eb40dfdfadbf9933d885b4c1}{save\+Game}} ()
\begin{DoxyCompactList}\small\item\em Сохраняет текущее состояние игры и лучший счёт в файл. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{2048_8cpp_a9d7e8af417b6d543da691e9c0e2f6f9f}{clear\+Screen}} ()
\begin{DoxyCompactList}\small\item\em Очищает экран консоли. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{2048_8cpp_a8310d6d1e915cb179f834d9ca017950a}{print\+Board}} ()
\begin{DoxyCompactList}\small\item\em Выводит игровое поле в консоль с текущим и лучшим счётом. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{2048_8cpp_a15901c6440641eef370e8e5de6d24cd4}{generate\+Number}} ()
\begin{DoxyCompactList}\small\item\em Добавляет на случайную пустую ячейку число 2 (90\%) или 4 (10\%). \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{2048_8cpp_aac4bcbfa17105059389c38d53c332acf}{move\+Left}} ()
\begin{DoxyCompactList}\small\item\em Двигает и объединяет ячейки влево согласно правилам 2048. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{2048_8cpp_ad459b0c12009486f978b50d8571c5c91}{rotate\+Board\+Clockwise}} ()
\begin{DoxyCompactList}\small\item\em Поворачивает игровое поле по часовой стрелке на 90°. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{2048_8cpp_a868ecd23e8388f38f6ac096184847aa1}{rotate\+Board\+Counter\+Clockwise}} ()
\begin{DoxyCompactList}\small\item\em Поворачивает игровое поле против часовой стрелки на 90°. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{2048_8cpp_aa1832bb7ee9fec10919213ff0d5afcfb}{move}} (char dir)
\begin{DoxyCompactList}\small\item\em Выполняет ход в заданном направлении (\textquotesingle{}w\textquotesingle{}, \textquotesingle{}a\textquotesingle{}, \textquotesingle{}s\textquotesingle{}, \textquotesingle{}d\textquotesingle{}). \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{2048_8cpp_af817b0f39eb7ceb54c5298ba6b94c5be}{can\+Move}} ()
\begin{DoxyCompactList}\small\item\em Проверяет, возможно ли совершить хоть один ход. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{2048_8cpp_a285c3f70c3743d8c4d1d64574cbaeccf}{start\+New\+Game}} ()
\begin{DoxyCompactList}\small\item\em Инициализирует новое игровое поле\+: сбрасывает счёт и размещает два числа. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Переменные}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{2048_8cpp_af3deb41098187a53ec1518351d5eb7df}{board}} \mbox{[}\mbox{\hyperlink{2048_8h_aa7a2b8ea2c784a4ad8b58a3262bb4f07}{BOARD\+\_\+\+SIZE}}\mbox{]}\mbox{[}\mbox{\hyperlink{2048_8h_aa7a2b8ea2c784a4ad8b58a3262bb4f07}{BOARD\+\_\+\+SIZE}}\mbox{]}
\item 
\Hypertarget{2048_8cpp_aef160b7437d94056f1dc59646cd5b87d}\label{2048_8cpp_aef160b7437d94056f1dc59646cd5b87d} 
int {\bfseries score} = 0
\begin{DoxyCompactList}\small\item\em Текущий счёт игрока \end{DoxyCompactList}\item 
\Hypertarget{2048_8cpp_ad1d2ebe3608dccbcbdcddae74232eb59}\label{2048_8cpp_ad1d2ebe3608dccbcbdcddae74232eb59} 
int {\bfseries best\+Score} = 0
\begin{DoxyCompactList}\small\item\em Лучший сохранённый счёт \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Подробное описание}
Реализация функций для консольной игры 2048. 

Содержит определение функций, объявленных в \doxylink{2048_8h}{2048.\+h}. 

\doxysubsection{Функции}
\Hypertarget{2048_8cpp_af817b0f39eb7ceb54c5298ba6b94c5be}\index{2048.cpp@{2048.cpp}!canMove@{canMove}}
\index{canMove@{canMove}!2048.cpp@{2048.cpp}}
\doxysubsubsection{\texorpdfstring{canMove()}{canMove()}}
{\footnotesize\ttfamily \label{2048_8cpp_af817b0f39eb7ceb54c5298ba6b94c5be} 
bool can\+Move (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Проверяет, возможно ли совершить хоть один ход. 

\begin{DoxyReturn}{Возвращает}
true, если можно сделать ход, иначе false (игра окончена).
\end{DoxyReturn}
Проверка\+:
\begin{DoxyItemize}
\item есть хотя бы одна пустая ячейка
\item есть соседние одинаковые числа
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{2048_8cpp_af817b0f39eb7ceb54c5298ba6b94c5be}{canMove}}())\ \{}
\DoxyCodeLine{\ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Game\ Over!"{}};}
\DoxyCodeLine{\}}

\end{DoxyCode}
 \Hypertarget{2048_8cpp_a9d7e8af417b6d543da691e9c0e2f6f9f}\index{2048.cpp@{2048.cpp}!clearScreen@{clearScreen}}
\index{clearScreen@{clearScreen}!2048.cpp@{2048.cpp}}
\doxysubsubsection{\texorpdfstring{clearScreen()}{clearScreen()}}
{\footnotesize\ttfamily \label{2048_8cpp_a9d7e8af417b6d543da691e9c0e2f6f9f} 
void clear\+Screen (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Очищает экран консоли. 

Работает через system("{}cls"{}) на Windows. 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{2048_8cpp_a9d7e8af417b6d543da691e9c0e2f6f9f}{clearScreen}}();}

\end{DoxyCode}
 \Hypertarget{2048_8cpp_a15901c6440641eef370e8e5de6d24cd4}\index{2048.cpp@{2048.cpp}!generateNumber@{generateNumber}}
\index{generateNumber@{generateNumber}!2048.cpp@{2048.cpp}}
\doxysubsubsection{\texorpdfstring{generateNumber()}{generateNumber()}}
{\footnotesize\ttfamily \label{2048_8cpp_a15901c6440641eef370e8e5de6d24cd4} 
void generate\+Number (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Добавляет на случайную пустую ячейку число 2 (90\%) или 4 (10\%). 

Вызывается в начале игры и после каждого хода. 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{2048_8cpp_a15901c6440641eef370e8e5de6d24cd4}{generateNumber}}();}

\end{DoxyCode}
 \Hypertarget{2048_8cpp_ac77150accff829ce0d3be0031f539bc1}\index{2048.cpp@{2048.cpp}!loadGame@{loadGame}}
\index{loadGame@{loadGame}!2048.cpp@{2048.cpp}}
\doxysubsubsection{\texorpdfstring{loadGame()}{loadGame()}}
{\footnotesize\ttfamily \label{2048_8cpp_ac77150accff829ce0d3be0031f539bc1} 
bool load\+Game (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Загружает сохранённое состояние игры из файла. 

\begin{DoxyReturn}{Возвращает}
true, если удалось загрузить, иначе false.
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{2048_8cpp_ac77150accff829ce0d3be0031f539bc1}{loadGame}}())\ \{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{2048_8cpp_a285c3f70c3743d8c4d1d64574cbaeccf}{startNewGame}}();}
\DoxyCodeLine{\}}

\end{DoxyCode}
 \Hypertarget{2048_8cpp_aa1832bb7ee9fec10919213ff0d5afcfb}\index{2048.cpp@{2048.cpp}!move@{move}}
\index{move@{move}!2048.cpp@{2048.cpp}}
\doxysubsubsection{\texorpdfstring{move()}{move()}}
{\footnotesize\ttfamily \label{2048_8cpp_aa1832bb7ee9fec10919213ff0d5afcfb} 
bool move (\begin{DoxyParamCaption}\item[{char}]{dir}{}\end{DoxyParamCaption})}



Выполняет ход в заданном направлении (\textquotesingle{}w\textquotesingle{}, \textquotesingle{}a\textquotesingle{}, \textquotesingle{}s\textquotesingle{}, \textquotesingle{}d\textquotesingle{}). 


\begin{DoxyParams}{Аргументы}
{\em dir} & — символ направления\+: W (вверх), A (влево), S (вниз), D (вправо) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Возвращает}
true, если поле изменилось после хода.
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (\mbox{\hyperlink{2048_8cpp_aa1832bb7ee9fec10919213ff0d5afcfb}{move}}(\textcolor{charliteral}{'a'}))\ \{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{2048_8cpp_a15901c6440641eef370e8e5de6d24cd4}{generateNumber}}();}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{2048_8cpp_ac42f6d85eb40dfdfadbf9933d885b4c1}{saveGame}}();}
\DoxyCodeLine{\}}

\end{DoxyCode}
 \Hypertarget{2048_8cpp_aac4bcbfa17105059389c38d53c332acf}\index{2048.cpp@{2048.cpp}!moveLeft@{moveLeft}}
\index{moveLeft@{moveLeft}!2048.cpp@{2048.cpp}}
\doxysubsubsection{\texorpdfstring{moveLeft()}{moveLeft()}}
{\footnotesize\ttfamily \label{2048_8cpp_aac4bcbfa17105059389c38d53c332acf} 
bool move\+Left (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Двигает и объединяет ячейки влево согласно правилам 2048. 

\begin{DoxyReturn}{Возвращает}
true, если поле изменилось, иначе false.
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{2048_8cpp_af3deb41098187a53ec1518351d5eb7df}{board}}[0]\ =\ \{2,\ 2,\ 0,\ 0\};}
\DoxyCodeLine{\mbox{\hyperlink{2048_8cpp_aac4bcbfa17105059389c38d53c332acf}{moveLeft}}();}

\end{DoxyCode}
 \Hypertarget{2048_8cpp_a8310d6d1e915cb179f834d9ca017950a}\index{2048.cpp@{2048.cpp}!printBoard@{printBoard}}
\index{printBoard@{printBoard}!2048.cpp@{2048.cpp}}
\doxysubsubsection{\texorpdfstring{printBoard()}{printBoard()}}
{\footnotesize\ttfamily \label{2048_8cpp_a8310d6d1e915cb179f834d9ca017950a} 
void print\+Board (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Выводит игровое поле в консоль с текущим и лучшим счётом. 


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{2048_8cpp_a8310d6d1e915cb179f834d9ca017950a}{printBoard}}();}

\end{DoxyCode}
 \Hypertarget{2048_8cpp_ad459b0c12009486f978b50d8571c5c91}\index{2048.cpp@{2048.cpp}!rotateBoardClockwise@{rotateBoardClockwise}}
\index{rotateBoardClockwise@{rotateBoardClockwise}!2048.cpp@{2048.cpp}}
\doxysubsubsection{\texorpdfstring{rotateBoardClockwise()}{rotateBoardClockwise()}}
{\footnotesize\ttfamily \label{2048_8cpp_ad459b0c12009486f978b50d8571c5c91} 
void rotate\+Board\+Clockwise (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Поворачивает игровое поле по часовой стрелке на 90°. 

Используется для реализации движения вверх и вправо через \doxylink{2048_8h_aac4bcbfa17105059389c38d53c332acf}{move\+Left()}.


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{2048_8cpp_ad459b0c12009486f978b50d8571c5c91}{rotateBoardClockwise}}();}

\end{DoxyCode}
 \Hypertarget{2048_8cpp_a868ecd23e8388f38f6ac096184847aa1}\index{2048.cpp@{2048.cpp}!rotateBoardCounterClockwise@{rotateBoardCounterClockwise}}
\index{rotateBoardCounterClockwise@{rotateBoardCounterClockwise}!2048.cpp@{2048.cpp}}
\doxysubsubsection{\texorpdfstring{rotateBoardCounterClockwise()}{rotateBoardCounterClockwise()}}
{\footnotesize\ttfamily \label{2048_8cpp_a868ecd23e8388f38f6ac096184847aa1} 
void rotate\+Board\+Counter\+Clockwise (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Поворачивает игровое поле против часовой стрелки на 90°. 

Используется для реализации движения вверх и вниз через \doxylink{2048_8h_aac4bcbfa17105059389c38d53c332acf}{move\+Left()}.


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{2048_8cpp_a868ecd23e8388f38f6ac096184847aa1}{rotateBoardCounterClockwise}}();}

\end{DoxyCode}
 \Hypertarget{2048_8cpp_ac42f6d85eb40dfdfadbf9933d885b4c1}\index{2048.cpp@{2048.cpp}!saveGame@{saveGame}}
\index{saveGame@{saveGame}!2048.cpp@{2048.cpp}}
\doxysubsubsection{\texorpdfstring{saveGame()}{saveGame()}}
{\footnotesize\ttfamily \label{2048_8cpp_ac42f6d85eb40dfdfadbf9933d885b4c1} 
void save\+Game (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Сохраняет текущее состояние игры и лучший счёт в файл. 


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{2048_8cpp_ac42f6d85eb40dfdfadbf9933d885b4c1}{saveGame}}();}

\end{DoxyCode}
 \Hypertarget{2048_8cpp_a285c3f70c3743d8c4d1d64574cbaeccf}\index{2048.cpp@{2048.cpp}!startNewGame@{startNewGame}}
\index{startNewGame@{startNewGame}!2048.cpp@{2048.cpp}}
\doxysubsubsection{\texorpdfstring{startNewGame()}{startNewGame()}}
{\footnotesize\ttfamily \label{2048_8cpp_a285c3f70c3743d8c4d1d64574cbaeccf} 
void start\+New\+Game (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Инициализирует новое игровое поле\+: сбрасывает счёт и размещает два числа. 


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{2048_8cpp_a285c3f70c3743d8c4d1d64574cbaeccf}{startNewGame}}();}

\end{DoxyCode}
 

\doxysubsection{Переменные}
\Hypertarget{2048_8cpp_af3deb41098187a53ec1518351d5eb7df}\index{2048.cpp@{2048.cpp}!board@{board}}
\index{board@{board}!2048.cpp@{2048.cpp}}
\doxysubsubsection{\texorpdfstring{board}{board}}
{\footnotesize\ttfamily \label{2048_8cpp_af3deb41098187a53ec1518351d5eb7df} 
int board\mbox{[}\mbox{\hyperlink{2048_8h_aa7a2b8ea2c784a4ad8b58a3262bb4f07}{BOARD\+\_\+\+SIZE}}\mbox{]}\mbox{[}\mbox{\hyperlink{2048_8h_aa7a2b8ea2c784a4ad8b58a3262bb4f07}{BOARD\+\_\+\+SIZE}}\mbox{]}}

Глобальный массив игрового поля Значения\+: степени двойки (2, 4, 8...) или 0 для пустых ячеек 